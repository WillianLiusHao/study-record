(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{248:function(t,a,_){"use strict";_.r(a);var e=_(6),v=Object(e.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"输入url到页面加载全过程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#输入url到页面加载全过程"}},[t._v("#")]),t._v(" 输入url到页面加载全过程")]),t._v(" "),a("p",[t._v("前置知识，浏览器是多进程的，主要分为：")]),t._v(" "),a("ul",[a("li",[t._v("浏览器主进程：只有一个，主要控制页面的创建、销毁、网络资源管理、下载等。")]),t._v(" "),a("li",[t._v("第三方插件进程：每一种类型的插件对应一个进程，仅当使用该插件时才创建。")]),t._v(" "),a("li",[t._v("GPU进程：最多一个，用于3D绘制等。")]),t._v(" "),a("li",[t._v("浏览器渲染进程(浏览器内核)：每个Tab页对应一个进程，互不影响。")])]),t._v(" "),a("h3",{attrs:{id:"_1-输入url"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-输入url"}},[t._v("#")]),t._v(" 1. 输入url")]),t._v(" "),a("h3",{attrs:{id:"_2-浏览器查找缓存"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-浏览器查找缓存"}},[t._v("#")]),t._v(" "),a("RouterLink",{attrs:{to:"/1.基础/浏览器/6.2浏览器缓存.html"}},[t._v("2. 浏览器查找缓存")])],1),t._v(" "),a("blockquote",[a("p",[t._v("http缓存")])]),t._v(" "),a("h3",{attrs:{id:"_3-dns-域名解析"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-dns-域名解析"}},[t._v("#")]),t._v(" 3. DNS 域名解析")]),t._v(" "),a("blockquote",[a("p",[t._v("DNS 查询规则")])]),t._v(" "),a("p",[t._v("浏览器向DNS服务器发起请求，解析该URL中的域名对应的IP地址。"),a("code",[t._v("DNS服务器是基于UDP的，因此会用到UDP协议")])]),t._v(" "),a("p",[t._v("值得注意的是，浏览器提供 "),a("code",[t._v("DNS数据缓存功能")]),t._v(",及一个域名如果解析过，会把解析的结果缓存，下次该域名直接走缓存。另外默认IP端口为"),a("code",[t._v("80")])]),t._v(" "),a("h3",{attrs:{id:"_4-建立-tcp-连接"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-建立-tcp-连接"}},[t._v("#")]),t._v(" 4. 建立 TCP 连接")]),t._v(" "),a("blockquote",[a("p",[t._v("3次握手")])]),t._v(" "),a("p",[a("code",[t._v("建立 TCP 连接分为以下三个阶段")]),t._v(":")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("通过"),a("code",[t._v("三次握手")]),t._v("(即总共发送3个数据包确认已经建立连接)建立客户端和服务器之间的连接。")])]),t._v(" "),a("li",[a("p",[t._v("进行数据传输。这里有一个重要的机制，就是接收方接收到数据包后必须要向发送方确认, 如果发送方没有接到这个确认的消息，就判定为数据包丢失，并重新发送该数据包。当然，发送的过程中还有一个优化策略，就是把大的数据包拆成一个个小包，依次传输到接收方，接收方按照这个小包的顺序把它们组装成完整数据包。")])]),t._v(" "),a("li",[a("p",[t._v("断开连接的阶段。数据传输完成，现在要断开连接了，通过"),a("code",[t._v("四次挥手")]),t._v("来断开连接。")])])]),t._v(" "),a("p",[t._v("Chrome 同一域名下"),a("code",[t._v("最多6个")]),t._v("TCP链接")]),t._v(" "),a("h3",{attrs:{id:"_5-发起请求"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-发起请求"}},[t._v("#")]),t._v(" 5. 发起请求")]),t._v(" "),a("blockquote",[a("p",[t._v("http、cookie")])]),t._v(" "),a("p",[a("code",[t._v("HTTP 请求组成")]),t._v("：")]),t._v(" "),a("ol",[a("li",[t._v("请求行：请求方法 + 请求URL + HTTP版本协议")])]),t._v(" "),a("div",{staticClass:"language-http extra-class"},[a("pre",{pre:!0,attrs:{class:"language-http"}},[a("code",[a("span",{pre:!0,attrs:{class:"token request-line"}},[a("span",{pre:!0,attrs:{class:"token method property"}},[t._v("GET")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token request-target url"}},[t._v("/")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token http-version property"}},[t._v("HTTP/1.1")])]),t._v("   =>  get请求，请求根路径，协议版本为http1.1\n")])])]),a("ol",{attrs:{start:"2"}},[a("li",[t._v("请求头")])]),t._v(" "),a("div",{staticClass:"language-http extra-class"},[a("pre",{pre:!0,attrs:{class:"language-http"}},[a("code",[t._v("  Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3\n  Accept-Encoding: gzip, deflate, br\n  Accept-Language: zh-CN,zh;q=0.9\n  Cache-Control: no-cache\n  Connection: keep-alive\n  Cookie: /* 省略cookie信息 */\n  Host: www.baidu.com\n  Pragma: no-cache\n  Upgrade-Insecure-Requests: 1\n  User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1\n")])])]),a("ol",{attrs:{start:"3"}},[a("li",[t._v("请求体：")])]),t._v(" "),a("h3",{attrs:{id:"_6-响应请求"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-响应请求"}},[t._v("#")]),t._v(" 6. 响应请求")]),t._v(" "),a("ul",[a("li",[t._v("常见状态码")]),t._v(" "),a("li",[t._v("响应报文（响应行+响应头+响应体）")])]),t._v(" "),a("h3",{attrs:{id:"_7-关闭-tcp-连接"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-关闭-tcp-连接"}},[t._v("#")]),t._v(" 7. 关闭 TCP 连接")]),t._v(" "),a("blockquote",[a("p",[t._v("四次挥手")])]),t._v(" "),a("h3",{attrs:{id:"_8-浏览器渲染"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8-浏览器渲染"}},[t._v("#")]),t._v(" 8. 浏览器渲染")]),t._v(" "),a("blockquote",[a("p",[t._v("资源加载顺序，js加载阻塞问题\n回流重绘")])]),t._v(" "),a("p",[a("strong",[t._v("1. 构建 "),a("code",[t._v("DOM树")])]),t._v(" "),a("strong",[t._v("2. 样式计算，生成 "),a("code",[t._v("CSSOM")])]),t._v(" "),a("strong",[t._v("3. 布局，计算元素布局信息 "),a("code",[t._v("Layout")])]),t._v(" "),a("strong",[t._v("4. 分层，建图层树")]),t._v(" "),a("strong",[t._v("5. 生成绘制列表，提交到合成线程")]),t._v(" "),a("strong",[t._v("6. 光栅化：生成图块和生成位图")]),t._v(" "),a("strong",[t._v("7. 显示器显示内容")])])])}),[],!1,null,null,null);a.default=v.exports}}]);