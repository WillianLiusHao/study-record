(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{191:function(t,a,v){t.exports=v.p+"assets/img/cache.8e79736c.png"},246:function(t,a,v){"use strict";v.r(a);var _=v(6),e=Object(_.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"浏览器缓存"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#浏览器缓存"}},[t._v("#")]),t._v(" 浏览器缓存")]),t._v(" "),a("h2",{attrs:{id:"强缓存"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#强缓存"}},[t._v("#")]),t._v(" 强缓存")]),t._v(" "),a("ul",[a("li",[t._v("Expires("),a("code",[t._v("HTTP/1.0")]),t._v(")")]),t._v(" "),a("li",[t._v("Cache-Control("),a("code",[t._v("HTTP/1.1")]),t._v(")")])]),t._v(" "),a("p",[a("img",{attrs:{src:v(191),alt:""}})]),t._v(" "),a("h3",{attrs:{id:"expires"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#expires"}},[t._v("#")]),t._v(" Expires")]),t._v(" "),a("p",[t._v("代表过期时间，未超过该时间直接从缓存中取数，超过了才向服务端请求数据。")]),t._v(" "),a("p",[a("code",[t._v("问题")]),t._v("：浏览器时间和服务器时间并不一致，所以服务端返回的这个时间可能不准确。")]),t._v(" "),a("h3",{attrs:{id:"cache-control"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cache-control"}},[t._v("#")]),t._v(" Cache-Control")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("max-age")]),t._v(": 秒为单位，指相应返回后多少秒内直接使用缓存")]),t._v(" "),a("li",[t._v("no-store：不缓存")]),t._v(" "),a("li",[t._v("no-cache：跳过强缓存，直接使用协商缓存")]),t._v(" "),a("li",[t._v("public: 客户端和代理服务器都可以缓存")]),t._v(" "),a("li",[t._v("private：只有客户端可以缓存")])]),t._v(" "),a("h2",{attrs:{id:"协商缓存"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#协商缓存"}},[t._v("#")]),t._v(" 协商缓存")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("类型")]),t._v(" "),a("th",[t._v("ETag")]),t._v(" "),a("th",[t._v("Last-Modified")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("发送")]),t._v(" "),a("td",[t._v("If-None-Match: [ETag的值]")]),t._v(" "),a("td",[t._v("If-Modified-Since：[Last-Modified的值]")])])])]),t._v(" "),a("ul",[a("li",[t._v("Last-modify -> If-Modified-Since")]),t._v(" "),a("li",[t._v("E-Tag -> If-None-Match")])]),t._v(" "),a("blockquote",[a("p",[t._v("优先级：E-Tag > Last-modify")])]),t._v(" "),a("h3",{attrs:{id:"last-modify"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#last-modify"}},[t._v("#")]),t._v(" Last-modify")]),t._v(" "),a("p",[t._v("第一次请求某个URL时，服务端返回200，内容是客户端求情的资源，同时返回"),a("code",[t._v("Last-modify")]),t._v("标记该资源在服务器最后被修改的时间")]),t._v(" "),a("p",[t._v("客户端再次请求该URL时，会在请求头携带"),a("code",[t._v("If-Modified-Since")]),t._v("字段，用于询问服务端改请求内容是否在服务端修改了")]),t._v(" "),a("p",[a("code",[t._v("Last-Modified : Fri , 12 May 2006 18:53:33 GMT")]),t._v(" "),a("code",[t._v("If-Modified-Since : Fri , 12 May 2006 18:53:33 GMT")])]),t._v(" "),a("h3",{attrs:{id:"e-tag"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#e-tag"}},[t._v("#")]),t._v(" E-Tag")]),t._v(" "),a("p",[a("code",[t._v("E-Tag")]),t._v("是服务端为文件生成的唯一标识，浏览器二次请求的时候会携带该值带在字段"),a("code",[t._v("If-None-Match")]),t._v("上，用于询问浏览器改文件是否变化了")]),t._v(" "),a("h2",{attrs:{id:"缓存位置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#缓存位置"}},[t._v("#")]),t._v(" 缓存位置")]),t._v(" "),a("ul",[a("li",[t._v("Service Worker")]),t._v(" "),a("li",[t._v("Memory Cache（内存缓存）")]),t._v(" "),a("li",[t._v("Disk Cache（磁盘缓存，比较大的js和css）")]),t._v(" "),a("li",[t._v("Push Cache（HTTP/2.0）")])]),t._v(" "),a("h2",{attrs:{id:"回答拓展"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#回答拓展"}},[t._v("#")]),t._v(" 回答拓展")]),t._v(" "),a("p",[t._v("如果还要聊，那就从以下几方面聊一下")]),t._v(" "),a("ul",[a("li",[t._v("no-cache 和 no-store")]),t._v(" "),a("li",[t._v("启发式缓存")]),t._v(" "),a("li",[t._v("浏览区输入url：强缓存")]),t._v(" "),a("li",[t._v("f5：协商缓存")]),t._v(" "),a("li",[t._v("ctrl+f5：强制删除缓存，重新获取资源")])])])}),[],!1,null,null,null);a.default=e.exports}}]);