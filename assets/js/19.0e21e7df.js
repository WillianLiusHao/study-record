(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{221:function(v,_,t){v.exports=t.p+"assets/img/3timeshandshakes.d4baf59b.svg"},222:function(v,_,t){v.exports=t.p+"assets/img/3timeshandshake.e56e38e4.png"},223:function(v,_,t){v.exports=t.p+"assets/img/4timeshandbaibai.3b84041e.svg"},224:function(v,_,t){v.exports=t.p+"assets/img/4timeshandbaibai.fb5df9a3.png"},273:function(v,_,t){"use strict";t.r(_);var a=t(6),s=Object(a.a)({},(function(){var v=this,_=v._self._c;return _("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[_("h1",{attrs:{id:"tcp-udp"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#tcp-udp"}},[v._v("#")]),v._v(" TCP & UDP")]),v._v(" "),_("h2",{attrs:{id:"udp"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#udp"}},[v._v("#")]),v._v(" UDP")]),v._v(" "),_("table",[_("thead",[_("tr",[_("th",[v._v("tcp")]),v._v(" "),_("th",[v._v("udp")])])]),v._v(" "),_("tbody",[_("tr",[_("td",[v._v("传输层")]),v._v(" "),_("td",[v._v("传输层")])]),v._v(" "),_("tr",[_("td",[v._v("面向连接")]),v._v(" "),_("td",[v._v("无连接")])]),v._v(" "),_("tr",[_("td",[v._v("安全可靠")]),v._v(" "),_("td",[v._v("不可靠")])]),v._v(" "),_("tr",[_("td",[v._v("延迟高，传输较慢")]),v._v(" "),_("td",[v._v("延迟低")])]),v._v(" "),_("tr",[_("td",[v._v("大文件")]),v._v(" "),_("td",[v._v("小文件")])])])]),v._v(" "),_("h2",{attrs:{id:"tcp"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#tcp"}},[v._v("#")]),v._v(" TCP")]),v._v(" "),_("h3",{attrs:{id:"特点"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#特点"}},[v._v("#")]),v._v(" 特点")]),v._v(" "),_("ul",[_("li",[v._v("面向连接的传输层协议")]),v._v(" "),_("li",[v._v("可靠")]),v._v(" "),_("li",[v._v("基于字节流")]),v._v(" "),_("li",[v._v("超时重传")]),v._v(" "),_("li",[v._v("拥塞控制")])]),v._v(" "),_("p",[_("code",[v._v("面向连接")]),v._v(" 指的的是 TCP 需要 "),_("code",[v._v("三次握手")])]),v._v(" "),_("p",[_("code",[v._v("可靠性")]),v._v(" 指 TCP 具有 "),_("code",[v._v("确认应答ACK")]),v._v(" 和 "),_("code",[v._v("序列号")]),v._v(" 来实现可靠传输")]),v._v(" "),_("p",[_("code",[v._v("基于字节流")]),v._v(" 指的是 "),_("code",[v._v("UDP")]),v._v("的传输是将一个完整的用户消息发送一个"),_("code",[v._v("UDP")]),v._v("报文；而"),_("code",[v._v("TCP")]),v._v("是将一条用户消息根据滑动窗口的字节大小，拆分成多个"),_("code",[v._v("TCP")]),v._v("报文段（"),_("code",[v._v("TCP将数据看作一连串字节流")]),v._v("）")]),v._v(" "),_("h3",{attrs:{id:"端口号"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#端口号"}},[v._v("#")]),v._v(" 端口号")]),v._v(" "),_("h3",{attrs:{id:"三次握手"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#三次握手"}},[v._v("#")]),v._v(" 三次握手")]),v._v(" "),_("ul",[_("li",[_("p",[v._v("目的："),_("strong",[v._v("建立可靠的通信通道")]),v._v("，确认双方的发送和接收能力")])]),v._v(" "),_("li",[_("p",[v._v("过程：")]),v._v(" "),_("ul",[_("li",[v._v("男：喂，听得到吗？")]),v._v(" "),_("li",[v._v("女：听得到，你听得到吗？")]),v._v(" "),_("li",[v._v("男：我也听得到"),_("br"),v._v("\n--\x3e 建立连接")])])]),v._v(" "),_("li",[_("p",[v._v("图解")]),v._v(" "),_("ul",[_("li",[_("code",[v._v("seq")]),v._v(" 和 "),_("code",[v._v("ack")]),v._v(" 都是32位的序号")]),v._v(" "),_("li",[_("code",[v._v("SYN")]),v._v("/"),_("code",[v._v("ACK")]),v._v("/"),_("code",[v._v("FIN")]),v._v(" 标志位，都只占1位（0或1）")])])])]),v._v(" "),_("p",[_("img",{attrs:{src:t(221),alt:""}})]),v._v(" "),_("p",[_("img",{attrs:{src:t(222),alt:""}})]),v._v(" "),_("ul",[_("li",[v._v("回答细节\n"),_("ul",[_("li",[v._v("ack确认号 = seq序号 + 1")]),v._v(" "),_("li",[v._v("SYN,ACK 标志位都是1位")]),v._v(" "),_("li",[v._v("发送完 SYN 和接收到 ACK 后各自的状态（"),_("code",[v._v("SYN-SEND")]),v._v("、"),_("code",[v._v("SYN-RCVD")]),v._v("、"),_("code",[v._v("ESTABLISHED")]),v._v("）")])])])]),v._v(" "),_("h3",{attrs:{id:"四次挥手"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#四次挥手"}},[v._v("#")]),v._v(" 四次挥手")]),v._v(" "),_("ul",[_("li",[_("p",[v._v("过程")]),v._v(" "),_("ul",[_("li",[v._v("男：我没什么要说的了，你还有的话你继续说")]),v._v(" "),_("li",[v._v("女：我知道了"),_("br"),v._v("\n男方继续听女方balabala")]),v._v(" "),_("li",[v._v("女：我说完了")]),v._v(" "),_("li",[v._v("男：我知道了"),_("br"),v._v("\n--\x3e 电话挂断")])])]),v._v(" "),_("li",[_("p",[v._v("图解")])])]),v._v(" "),_("p",[_("img",{attrs:{src:t(223),alt:""}})]),v._v(" "),_("p",[_("img",{attrs:{src:t(224),alt:""}})]),v._v(" "),_("ul",[_("li",[v._v("思考")])]),v._v(" "),_("p",[_("strong",[v._v("为什么服务端第二次和第三次挥手要分开？")])]),v._v(" "),_("p",[_("strong",[v._v("第四次挥手，为什么客户端在 TIME-WAIT 状态必须等待 2MSL（即两倍的最大报文段生存时间） 的时间呢?")])]),v._v(" "),_("p",[v._v("因为在最后客户端发送完 ACK 报文后，可能存在服务端没有收到的情况，此时服务端会重发 FIN 报文")])])}),[],!1,null,null,null);_.default=s.exports}}]);