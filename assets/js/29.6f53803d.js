(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{236:function(v,t,_){"use strict";_.r(t);var a=_(6),s=Object(a.a)({},(function(){var v=this,t=v._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[t("h1",{attrs:{id:"性能优化"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#性能优化"}},[v._v("#")]),v._v(" 性能优化")]),v._v(" "),t("p",[t("img",{attrs:{src:"https://web.dev/fast/",alt:"页面加载优化"}}),v._v("\n页面更新优化")]),v._v(" "),t("ol",[t("li",[v._v("常见网站性能指标")])]),v._v(" "),t("ul",[t("li",[v._v("FP")]),v._v(" "),t("li",[v._v("FCP")]),v._v(" "),t("li",[v._v("LCP(Largest Contentful Paint)：显示最大内容元素所需时间 (衡量网站初次载入速度)")]),v._v(" "),t("li",[v._v("CLS(Cumulative Layout Shift)：累计版面配置移转 (衡量网页元件视觉稳定性)")]),v._v(" "),t("li",[v._v("FID(first Input Delay)：首次输入延迟时间 (衡量网站互动顺畅程度)")])]),v._v(" "),t("blockquote",[t("p",[v._v("FCP 首屏时间如何计算呢？")])]),v._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[v._v("performance"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[v._v("getEntriesByName")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[v._v("'first-contentful-paint'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[v._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v(".")]),v._v("startTime\n")])])]),t("h2",{attrs:{id:"确认优化方向"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#确认优化方向"}},[v._v("#")]),v._v(" 确认优化方向")]),v._v(" "),t("ul",[t("li",[v._v("资源优化\n"),t("ul",[t("li",[v._v("使用 Brotli 进行纯文本压缩（Brotli是一种最初由 Google 开发的压缩算法，提供优于 gzip 的压缩）")]),v._v(" "),t("li",[v._v("图片")])])]),v._v(" "),t("li",[v._v("构建优化")]),v._v(" "),t("li",[v._v("传输优化")]),v._v(" "),t("li",[v._v("网络优化")])]),v._v(" "),t("h2",{attrs:{id:"性能监控"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#性能监控"}},[v._v("#")]),v._v(" 性能监控")]),v._v(" "),t("ul",[t("li",[v._v("建立监控体系")]),v._v(" "),t("li",[v._v("确定采集指标")]),v._v(" "),t("li",[v._v("分析页面")])]),v._v(" "),t("h2",{attrs:{id:"浏览器渲染进程及工作流程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#浏览器渲染进程及工作流程"}},[v._v("#")]),v._v(" 浏览器渲染进程及工作流程")]),v._v(" "),t("p",[v._v("进程及主要职责")]),v._v(" "),t("ol",[t("li",[v._v("Browser Process 浏览器主进程\n"),t("ul",[t("li",[v._v("负责地址栏，书签栏，刷新前进后退操作等界面交互，用户交互")])])]),v._v(" "),t("li",[v._v("Plugin Process 插件进程\n"),t("ul",[t("li",[v._v("每种类型的插件对应一个进程,仅当使用该插件时才创建。")])])]),v._v(" "),t("li",[v._v("GPU Process\n"),t("ul",[t("li",[v._v("最多只有一个,用于 3D 绘制等")])])]),v._v(" "),t("li",[v._v("Render Process 渲染进程\n"),t("ul",[t("li",[v._v("称为浏览器渲染进程或浏览器内核,内部是多线程的。主要负责页面渲染,脚本执行,事件处理等。")])])])]),v._v(" "),t("p",[v._v("渲染进程（浏览器内核）")]),v._v(" "),t("ol",[t("li",[v._v("GUI 渲染线程")]),v._v(" "),t("li",[v._v("JS 引擎线程")]),v._v(" "),t("li",[v._v("时间触发线程")]),v._v(" "),t("li",[v._v("定时触发器线程")]),v._v(" "),t("li",[v._v("异步 http 请求线程")])]),v._v(" "),t("h3",{attrs:{id:"关键渲染路径-crp"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#关键渲染路径-crp"}},[v._v("#")]),v._v(" 关键渲染路径 CRP")]),v._v(" "),t("blockquote",[t("p",[v._v("关键渲染路径是浏览器将 HTML，CSS 和 JavaScript 转换为屏幕上的像素所经历的步骤序列。\n优化关键渲染路径可提高渲染性能。")])]),v._v(" "),t("p",[v._v("关键渲染路径包含了")]),v._v(" "),t("ul",[t("li",[v._v("文档对象模型 (HTML -> DOM)")]),v._v(" "),t("li",[v._v("CSS 对象模型 (CSS -> CSSOM)")]),v._v(" "),t("li",[v._v("渲染树 (DOM + cssom -> Render Tree)")]),v._v(" "),t("li",[v._v("布局 (Layout)")]),v._v(" "),t("li",[v._v("绘制 (Paint)")])]),v._v(" "),t("p",[v._v("优化")]),v._v(" "),t("ol",[t("li",[v._v("关键资源数： 通过异步重要资源的下载来减小请求数量")]),v._v(" "),t("li",[v._v("关键字节数：优化必须的请求数量和每个请求的文件体积")]),v._v(" "),t("li",[v._v("关键路径长度：通过区分关键资源的优先级来优化被加载关键资源的顺序，来缩短关键路径长度")])]),v._v(" "),t("h2",{attrs:{id:"一、vue首屏加载速度优化"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#一、vue首屏加载速度优化"}},[v._v("#")]),v._v(" 一、Vue首屏加载速度优化")]),v._v(" "),t("ul",[t("li",[v._v("vue-router 路由懒加载（利用 webpack 代码切割原理） "),t("code",[v._v("资源大小")])]),v._v(" "),t("li",[v._v("gzip(webpack 和 nginx) "),t("code",[v._v("资源大小")])]),v._v(" "),t("li",[v._v("UI 按需加载 "),t("code",[v._v("资源大小")])]),v._v(" "),t("li",[v._v("cdn "),t("code",[v._v("资源加载速度")])]),v._v(" "),t("li",[v._v("资源缓存 "),t("code",[v._v("减少请求")])]),v._v(" "),t("li",[v._v("SSR "),t("code",[v._v("减少请求")])])])])}),[],!1,null,null,null);t.default=s.exports}}]);