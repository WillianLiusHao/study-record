<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>2022.02.21 | 前端随笔 WillianLiusHao</title>
    <meta name="generator" content="VuePress 1.9.8">
    
    <meta name="description" content="Record William&#39;s daily study notes">
    
    <link rel="preload" href="/WillianLiusHao/assets/css/0.styles.d0aae437.css" as="style"><link rel="preload" href="/WillianLiusHao/assets/js/app.ae16b7fb.js" as="script"><link rel="preload" href="/WillianLiusHao/assets/js/2.8b11eef9.js" as="script"><link rel="preload" href="/WillianLiusHao/assets/js/9.2c288a11.js" as="script"><link rel="prefetch" href="/WillianLiusHao/assets/js/10.0254b9aa.js"><link rel="prefetch" href="/WillianLiusHao/assets/js/11.c951f4f1.js"><link rel="prefetch" href="/WillianLiusHao/assets/js/12.f4e59a01.js"><link rel="prefetch" href="/WillianLiusHao/assets/js/13.181bfb4f.js"><link rel="prefetch" href="/WillianLiusHao/assets/js/14.bb6194d3.js"><link rel="prefetch" href="/WillianLiusHao/assets/js/15.4c0341f1.js"><link rel="prefetch" href="/WillianLiusHao/assets/js/16.c2c03bdc.js"><link rel="prefetch" href="/WillianLiusHao/assets/js/17.f9597e59.js"><link rel="prefetch" href="/WillianLiusHao/assets/js/18.37fea0cb.js"><link rel="prefetch" href="/WillianLiusHao/assets/js/19.e96f48f5.js"><link rel="prefetch" href="/WillianLiusHao/assets/js/20.38da475d.js"><link rel="prefetch" href="/WillianLiusHao/assets/js/21.d6ea83fb.js"><link rel="prefetch" href="/WillianLiusHao/assets/js/22.fe101214.js"><link rel="prefetch" href="/WillianLiusHao/assets/js/23.c511b9ed.js"><link rel="prefetch" href="/WillianLiusHao/assets/js/24.47a40d9a.js"><link rel="prefetch" href="/WillianLiusHao/assets/js/25.30745e28.js"><link rel="prefetch" href="/WillianLiusHao/assets/js/26.c1c8c70b.js"><link rel="prefetch" href="/WillianLiusHao/assets/js/27.7eb7b5ea.js"><link rel="prefetch" href="/WillianLiusHao/assets/js/28.c1523410.js"><link rel="prefetch" href="/WillianLiusHao/assets/js/29.c0d1f9d7.js"><link rel="prefetch" href="/WillianLiusHao/assets/js/3.85ccf5a7.js"><link rel="prefetch" href="/WillianLiusHao/assets/js/30.f56cc46d.js"><link rel="prefetch" href="/WillianLiusHao/assets/js/31.cd12686f.js"><link rel="prefetch" href="/WillianLiusHao/assets/js/32.0a947c5c.js"><link rel="prefetch" href="/WillianLiusHao/assets/js/33.bea7fbf2.js"><link rel="prefetch" href="/WillianLiusHao/assets/js/34.9e01da9f.js"><link rel="prefetch" href="/WillianLiusHao/assets/js/35.1c5a5c5f.js"><link rel="prefetch" href="/WillianLiusHao/assets/js/36.31df5eb6.js"><link rel="prefetch" href="/WillianLiusHao/assets/js/37.84fde335.js"><link rel="prefetch" href="/WillianLiusHao/assets/js/38.62be8779.js"><link rel="prefetch" href="/WillianLiusHao/assets/js/39.dac841b5.js"><link rel="prefetch" href="/WillianLiusHao/assets/js/4.c11d9ab6.js"><link rel="prefetch" href="/WillianLiusHao/assets/js/40.0a5be4fe.js"><link rel="prefetch" href="/WillianLiusHao/assets/js/41.e4aa8c16.js"><link rel="prefetch" href="/WillianLiusHao/assets/js/42.315b34a2.js"><link rel="prefetch" href="/WillianLiusHao/assets/js/5.3ced4326.js"><link rel="prefetch" href="/WillianLiusHao/assets/js/6.365ce84f.js"><link rel="prefetch" href="/WillianLiusHao/assets/js/7.83f2c71d.js"><link rel="prefetch" href="/WillianLiusHao/assets/js/8.a3b778af.js">
    <link rel="stylesheet" href="/WillianLiusHao/assets/css/0.styles.d0aae437.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/WillianLiusHao/" class="home-link router-link-active"><!----> <span class="site-name">前端随笔 WillianLiusHao</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://github.com/WillianLiusHao" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://github.com/WillianLiusHao" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>daily</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/WillianLiusHao/daily/inter-records.html" class="sidebar-link">inter-records.md</a></li><li><a href="/WillianLiusHao/daily/notes.html" aria-current="page" class="active sidebar-link">notes.md</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/WillianLiusHao/daily/notes.html#_2022-02-21" class="sidebar-link">2022.02.21</a></li><li class="sidebar-sub-header"><a href="/WillianLiusHao/daily/notes.html#_2022-02-22" class="sidebar-link">2022.02.22</a></li><li class="sidebar-sub-header"><a href="/WillianLiusHao/daily/notes.html#_2022-02-23" class="sidebar-link">2022.02.23</a></li><li class="sidebar-sub-header"><a href="/WillianLiusHao/daily/notes.html#_2022-03-02" class="sidebar-link">2022.03.02</a></li><li class="sidebar-sub-header"><a href="/WillianLiusHao/daily/notes.html#_2022-03-03" class="sidebar-link">2022.03.03</a></li><li class="sidebar-sub-header"><a href="/WillianLiusHao/daily/notes.html#_2022-03-04" class="sidebar-link">2022.03.04</a></li><li class="sidebar-sub-header"><a href="/WillianLiusHao/daily/notes.html#_2022-03-16" class="sidebar-link">2022.03.16</a></li><li class="sidebar-sub-header"><a href="/WillianLiusHao/daily/notes.html#_2022-03-18" class="sidebar-link">2022.03.18</a></li><li class="sidebar-sub-header"><a href="/WillianLiusHao/daily/notes.html#_2022-03-27" class="sidebar-link">2022.03.27</a></li><li class="sidebar-sub-header"><a href="/WillianLiusHao/daily/notes.html#_2022-03-28" class="sidebar-link">2022.03.28</a></li><li class="sidebar-sub-header"><a href="/WillianLiusHao/daily/notes.html#_2022-03-29" class="sidebar-link">2022.03.29</a></li><li class="sidebar-sub-header"><a href="/WillianLiusHao/daily/notes.html#_2022-03-30" class="sidebar-link">2022.03.30</a></li><li class="sidebar-sub-header"><a href="/WillianLiusHao/daily/notes.html#_2022-04-28" class="sidebar-link">2022.04.28</a></li><li class="sidebar-sub-header"><a href="/WillianLiusHao/daily/notes.html#_2022-05-26" class="sidebar-link">2022.05.26</a></li><li class="sidebar-sub-header"><a href="/WillianLiusHao/daily/notes.html#_2022-06-02" class="sidebar-link">2022.06.02</a></li><li class="sidebar-sub-header"><a href="/WillianLiusHao/daily/notes.html#_2022-06-27" class="sidebar-link">2022.06.27</a></li><li class="sidebar-sub-header"><a href="/WillianLiusHao/daily/notes.html#_2022-07-11" class="sidebar-link">2022.07.11</a></li><li class="sidebar-sub-header"><a href="/WillianLiusHao/daily/notes.html#_2022-07-12" class="sidebar-link">2022.07.12</a></li><li class="sidebar-sub-header"><a href="/WillianLiusHao/daily/notes.html#这里开始按周记录-便于周末回顾巩固相关知识点" class="sidebar-link">这里开始按周记录，便于周末回顾巩固相关知识点</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/WillianLiusHao/daily/notes.html#_2022-08-08-2022-08-14" class="sidebar-link">2022.08.08 - 2022.08.14</a></li><li class="sidebar-sub-header"><a href="/WillianLiusHao/daily/notes.html#_2022-08-15-2022-08-21" class="sidebar-link">2022.08.15 - 2022.08.21</a></li><li class="sidebar-sub-header"><a href="/WillianLiusHao/daily/notes.html#_2022-08-22-2022-08-26" class="sidebar-link">2022.08.22 - 2022.08.26</a></li><li class="sidebar-sub-header"><a href="/WillianLiusHao/daily/notes.html#_2022-08-29-2022-09-02" class="sidebar-link">2022.08.29 - 2022.09.02</a></li><li class="sidebar-sub-header"><a href="/WillianLiusHao/daily/notes.html#_2022-09-26-2022-09-30" class="sidebar-link">2022.09.26 - 2022.09.30</a></li><li class="sidebar-sub-header"><a href="/WillianLiusHao/daily/notes.html#_2022-10-31-2022-11-04" class="sidebar-link">2022.10.31 - 2022.11.04</a></li></ul></li></ul></li><li><a href="/WillianLiusHao/daily/ts-question.html" class="sidebar-link">ts-question.md</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>knowledge</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>project</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/WillianLiusHao/" aria-current="page" class="sidebar-link">README.md</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="_2022-02-21"><a href="#_2022-02-21" class="header-anchor">#</a> 2022.02.21</h2> <ol><li><p>阅读 vue3 源码 reactivity 包的依赖收集和更新的逻辑</p></li> <li><p>网络安全相关知识: xss 和 csrf 等 (√)</p></li> <li><p>回顾 浏览器缓存(重点是相应字段及其特点) (√)</p> <ul><li>cache-control: max-age/no-store/no-cache</li> <li>expires: 时间戳</li> <li>etag/if-none-match</li> <li>last-modified/since-last-modified</li></ul></li> <li><p>状态码 (√)</p> <ul><li>200: 成功</li> <li>206: 断点续传，视频大文件上传</li> <li>301: 永久</li> <li>302: 临时</li> <li>304: 协商</li> <li>400: 请求参数错误</li> <li>401: 无权访问</li> <li>403: 拒接请求, 如需内网访问但是用了外网访问</li> <li>404: 资源找不到</li> <li>500: 服务器内部错误</li> <li>504: 网关超时</li></ul></li> <li><p>http 和 https 的区别/ http1.0 1.1 2.0 区别 (x)</p></li></ol> <h2 id="_2022-02-22"><a href="#_2022-02-22" class="header-anchor">#</a> 2022.02.22</h2> <ol><li><p>过一遍 TS 文档(https://ts.xcatliu.com/) (√)</p> <blockquote><p>基础</p></blockquote> <ul><li>类型断言 (值 as 类型 或 &lt;类型&gt;值)</li> <li>泛型(T)</li> <li>联合类型(|)</li> <li>函数重载</li></ul> <blockquote><p>进阶</p></blockquote> <ul><li>类型别名 &amp; 字符串字面量类型</li> <li>类</li> <li>接口</li></ul></li> <li><p>复习 xss 和 csrf 等 (x)</p></li> <li><p>http 和 https 的区别 / http1.0 1.1 2.0 区别 (x)</p></li> <li><p>bind_call_apply 区别 (x)</p></li> <li><p>位运算的原理及运用场景 (√)</p> <ul><li>(vue3 和 react 源码都有使用,判断节点类型)</li> <li>权限控制 (|赋予权限, &amp;权限校验)</li></ul></li></ol> <h2 id="_2022-02-23"><a href="#_2022-02-23" class="header-anchor">#</a> 2022.02.23</h2> <ol><li>webpack (√)
<ul><li>阅读文档，了解 plugin 运行机制及编写方法</li> <li>vue-cli serve 插件(vue-cli-infinite-plugin 源码阅读)</li></ul></li></ol> <h2 id="_2022-03-02"><a href="#_2022-03-02" class="header-anchor">#</a> 2022.03.02</h2> <ol><li><p>述职(P5-)</p></li> <li><p>刷算法</p> <ul><li>dp: 打家劫舍、爬楼梯</li></ul></li></ol> <h2 id="_2022-03-03"><a href="#_2022-03-03" class="header-anchor">#</a> 2022.03.03</h2> <ol><li>刷算法
<ul><li>dp: 不同路径、买卖股票时机、剪绳子、跳跃游戏</li></ul></li> <li>复习 bind/call/apply 不同及实现 (√)</li> <li>new 实现 (√)
<ul><li>新建对象 -&gt; 原型链 -&gt; 绑定 this -&gt; 判断返回</li></ul></li></ol> <h2 id="_2022-03-04"><a href="#_2022-03-04" class="header-anchor">#</a> 2022.03.04</h2> <ol><li><p>浏览器本地缓存 (√)</p> <ul><li>区别：大小、何时失效、和服务器的交互方式</li> <li>cookie: 4kb、过期时间、会自动携带都服务器</li> <li>localStorage: &gt;= 5M、手动删除、不会</li> <li>sessionStorage: &gt;= 5M、页面关闭、不会</li></ul></li> <li><p>深浅克隆 (√)</p> <ul><li>注意了解各种数据类型的存储方式，及如何判断</li> <li>深克隆用递归</li></ul></li> <li><p>函数柯里化 (√)</p></li> <li><p>数据类型 (√)</p> <ul><li>基本(栈)
<ul><li>Number</li> <li>String</li> <li>Boolean</li> <li>Null</li> <li>Undefined</li> <li>Symbol</li> <li>BigInt</li></ul></li> <li>复杂(堆)
<ul><li>Object(Array, Function)</li></ul></li></ul></li> <li><p>事件委托</p> <ul><li>事件流三个阶段： 捕获阶段 -&gt; 目标阶段 -&gt; 冒泡阶段</li> <li>使用 event.target 获取事件触发位置</li></ul></li></ol> <h2 id="_2022-03-16"><a href="#_2022-03-16" class="header-anchor">#</a> 2022.03.16</h2> <ol><li>cookie
<ul><li>相关字段
<ul><li>key</li> <li>value</li> <li><strong>httpOnly</strong></li> <li><strong>sameSite</strong></li> <li>path</li> <li>domain</li></ul></li> <li>如何删除 cookie ？</li></ul></li></ol> <h2 id="_2022-03-18"><a href="#_2022-03-18" class="header-anchor">#</a> 2022.03.18</h2> <ol><li><p>TS： keyof、typeof、Required、Partial、Pick</p></li> <li><p>interface 和 type 区别</p> <ul><li>type 不可重复声明，合并只能使用 &amp;</li> <li>interface可重复声明，且自动合并</li></ul></li> <li><p>万花筒的socket</p></li></ol> <h2 id="_2022-03-27"><a href="#_2022-03-27" class="header-anchor">#</a> 2022.03.27</h2> <ol><li>Pinia
<ul><li>createPinia</li> <li>storeToRefs：把 store 暴露的数据转为响应式的</li> <li>$patch：批量更新数据</li></ul></li></ol> <h2 id="_2022-03-28"><a href="#_2022-03-28" class="header-anchor">#</a> 2022.03.28</h2> <ol><li></li> <li>npm run dev 发生了什么？</li></ol> <h2 id="_2022-03-29"><a href="#_2022-03-29" class="header-anchor">#</a> 2022.03.29</h2> <ol><li>Pinia使用</li> <li>持久化存储(<code>pinia-plugin-persistedstate</code>)原理<div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// src/index.ts</span>
<span class="token keyword">function</span> <span class="token function">createPersistedState</span><span class="token punctuation">(</span><span class="token parameter">factoryOptions <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">context</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token comment">// context 拿到当前 store 的上下文</span>
     <span class="token keyword">var</span> _a<span class="token punctuation">,</span> _b<span class="token punctuation">,</span> _c<span class="token punctuation">,</span> _d<span class="token punctuation">;</span>
     <span class="token keyword">const</span> <span class="token punctuation">{</span>
         <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span> persist <span class="token punctuation">}</span><span class="token punctuation">,</span>
         store
     <span class="token punctuation">}</span> <span class="token operator">=</span> context<span class="token punctuation">;</span>
     <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>persist<span class="token punctuation">)</span>
         <span class="token keyword">return</span><span class="token punctuation">;</span>
     <span class="token keyword">const</span> <span class="token punctuation">{</span>
         storage <span class="token operator">=</span> <span class="token punctuation">(</span>_a <span class="token operator">=</span> factoryOptions<span class="token punctuation">.</span>storage<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">?</span> _a <span class="token operator">:</span> localStorage<span class="token punctuation">,</span>
         beforeRestore <span class="token operator">=</span> <span class="token punctuation">(</span>_b <span class="token operator">=</span> factoryOptions<span class="token punctuation">.</span>beforeRestore<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">?</span> _b <span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
         afterRestore <span class="token operator">=</span> <span class="token punctuation">(</span>_c <span class="token operator">=</span> factoryOptions<span class="token punctuation">.</span>afterRestore<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">?</span> _c <span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
         serializer <span class="token operator">=</span> <span class="token punctuation">(</span>_d <span class="token operator">=</span> factoryOptions<span class="token punctuation">.</span>serializer<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">?</span> _d <span class="token operator">:</span> <span class="token punctuation">{</span>
             <span class="token literal-property property">serialize</span><span class="token operator">:</span> <span class="token constant">JSON</span><span class="token punctuation">.</span>stringify<span class="token punctuation">,</span>
             <span class="token literal-property property">deserialize</span><span class="token operator">:</span> <span class="token constant">JSON</span><span class="token punctuation">.</span>parse
         <span class="token punctuation">}</span><span class="token punctuation">,</span>
         key <span class="token operator">=</span> store<span class="token punctuation">.</span>$id<span class="token punctuation">,</span>
         paths <span class="token operator">=</span> <span class="token keyword">null</span>
     <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">typeof</span> persist <span class="token operator">!=</span> <span class="token string">&quot;boolean&quot;</span> <span class="token operator">?</span> persist <span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
     <span class="token comment">// 调用外部的传入的 hook: beforeRestore 函数，并将 context 传给外部</span>
     <span class="token comment">// 外部定义的 beforeRestore 函数 可以对当前实例做修改</span>
     beforeRestore <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">?</span> <span class="token keyword">void</span> <span class="token number">0</span> <span class="token operator">:</span> <span class="token function">beforeRestore</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span>
     
     <span class="token comment">// !!! 每次注册当前插件的时候，会把 storage 中的所有数据 通过 $patch 批量存入 store</span>
     <span class="token keyword">try</span> <span class="token punctuation">{</span>
         <span class="token keyword">const</span> fromStorage <span class="token operator">=</span> storage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token keyword">if</span> <span class="token punctuation">(</span>fromStorage<span class="token punctuation">)</span>
             store<span class="token punctuation">.</span><span class="token function">$patch</span><span class="token punctuation">(</span>serializer<span class="token punctuation">.</span><span class="token function">deserialize</span><span class="token punctuation">(</span>fromStorage<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>_error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token punctuation">}</span>
     
      <span class="token comment">// 调用外部的传入的 hook: afterRestore 函数，并将 context 传给外部</span>
     afterRestore <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">?</span> <span class="token keyword">void</span> <span class="token number">0</span> <span class="token operator">:</span> <span class="token function">afterRestore</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span>

     <span class="token comment">// !!! 订阅 vuex中的数据，每次store变化的时候，把新的数据存入 storage中</span>
     store<span class="token punctuation">.</span><span class="token function">$subscribe</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">_mutation<span class="token punctuation">,</span> state</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
         <span class="token keyword">try</span> <span class="token punctuation">{</span>
             <span class="token keyword">const</span> toStore <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>paths<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token function">pick</span><span class="token punctuation">(</span>state<span class="token punctuation">,</span> paths<span class="token punctuation">)</span> <span class="token operator">:</span> state<span class="token punctuation">;</span>
             storage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> serializer<span class="token punctuation">.</span><span class="token function">serialize</span><span class="token punctuation">(</span>toStore<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>_error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">detached</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ol> <h2 id="_2022-03-30"><a href="#_2022-03-30" class="header-anchor">#</a> 2022.03.30</h2> <ol><li>最大子数组和（no.53）</li> <li>二叉树的中序遍历 (no.94)</li></ol> <h2 id="_2022-04-28"><a href="#_2022-04-28" class="header-anchor">#</a> 2022.04.28</h2> <ol><li>try catch 不可return阻止代码继续执行</li> <li>axios 中的 request 中可通过 cancelToken 字段取消请求</li> <li><strong>对称二叉树</strong> （双指针同时移动）</li> <li><strong>二叉树的最大深度</strong> (递归，类似动态规划的思想，找出状态转移方程)</li></ol> <h2 id="_2022-05-26"><a href="#_2022-05-26" class="header-anchor">#</a> 2022.05.26</h2> <ol><li>npm run serve 的时候发生了什么？</li></ol> <h2 id="_2022-06-02"><a href="#_2022-06-02" class="header-anchor">#</a> 2022.06.02</h2> <ol><li>可选链操作符移动端有兼容性问题（ios &gt;= 13.4）
可通过babel 插件进行兼容处理</li> <li>http 缓存
<ul><li>强缓存
<ul><li>Expires（http1.0）：绝对时间，时间戳</li> <li>Cache-control（http1.1）：相对时间，秒</li></ul></li> <li>协商缓存</li></ul></li></ol> <h2 id="_2022-06-27"><a href="#_2022-06-27" class="header-anchor">#</a> 2022.06.27</h2> <ol><li>uni-app 生命周期的选择，navigateTo 不会销毁原来的组件(选用<code>onHide</code>)，navigateBack 会销毁(选用<code>onUnload/onMounted</code>)</li></ol> <h2 id="_2022-07-11"><a href="#_2022-07-11" class="header-anchor">#</a> 2022.07.11</h2> <ol><li>node 启动浏览器，利用 <code>puppeteer</code> 访问浏览器页面，并进行人为导出</li> <li>并发请求处理，利用 queue 队列控制最大并发量（<code>重点是queue的实现逻辑，及on关键字实现事件监听</code>）</li></ol> <h2 id="_2022-07-12"><a href="#_2022-07-12" class="header-anchor">#</a> 2022.07.12</h2> <ol><li>关于循环中的异步函数
<ul><li>forEach 中不会等待异步任务的回调结果，而是直接获取到 undefined 的回调结果（即forEach是<code>并行</code>的，无法通过某个异步回调跳出循环）</li> <li>for, for of 等是会等待异步回调的，（即是<code>串行</code>的，可通过本次循环的异步回调结果跳出循环）</li></ul></li></ol> <h2 id="这里开始按周记录-便于周末回顾巩固相关知识点"><a href="#这里开始按周记录-便于周末回顾巩固相关知识点" class="header-anchor">#</a> 这里开始按周记录，便于周末回顾巩固相关知识点</h2> <h3 id="_2022-08-08-2022-08-14"><a href="#_2022-08-08-2022-08-14" class="header-anchor">#</a> 2022.08.08 - 2022.08.14</h3> <p><strong>知识点</strong></p> <ul><li>页面从输入URL到展示</li></ul> <p><strong>算法</strong></p> <ul><li><p>滑动窗口</p> <ul><li>[x] <a href="">5.最大不重复子串</a></li> <li>[x] <a href="https://leetcode.cn/problems/minimum-size-subarray-sum/" target="_blank" rel="noopener noreferrer">209.长度最小的子数组<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li> <li><p><a href="https://github.com/labuladong/fucking-algorithm/blob/master/%E9%AB%98%E9%A2%91%E9%9D%A2%E8%AF%95%E7%B3%BB%E5%88%97/LRU%E7%AE%97%E6%B3%95.md" target="_blank" rel="noopener noreferrer">LRU 算法详解<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li> <li><p>二分法</p></li> <li><p><strong>深刻理解二叉树的遍历算法</strong></p></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/* 二叉树遍历框架 */</span>
<span class="token keyword">void</span> <span class="token function">traverse</span><span class="token punctuation">(</span><span class="token parameter">TreeNode root</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">// 前序遍历</span>
	<span class="token function">traverse</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">)</span>
	<span class="token comment">// 中序遍历</span>
	<span class="token function">traverse</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">)</span>
	<span class="token comment">// 后序遍历</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>诸多常见算法其实都是树的遍历问题</p></blockquote> <ul><li><p>前序遍历：先主逻辑、再递归</p> <ul><li><code>快排</code>：排序后（<code>主逻辑</code>）再进行(<code>递归</code>)对左右区间排序</li></ul></li> <li><p>后续遍历：先递归、再执行主逻辑</p> <ul><li><code>归并</code>：不断分区间（<code>递归</code>）再合并区间排序（<code>主逻辑</code>）</li> <li><code>分治</code></li> <li><code>回溯</code></li></ul></li></ul> <p><strong>项目</strong></p> <ul><li>监控sdk</li></ul> <h3 id="_2022-08-15-2022-08-21"><a href="#_2022-08-15-2022-08-21" class="header-anchor">#</a> 2022.08.15 - 2022.08.21</h3> <p><strong>知识点</strong></p> <ol><li><p>原型链、new、继承</p></li> <li><p>[ ] eventloop、promise、nextTick</p></li> <li><p>[ ] http缓存，js内存存放，垃圾回收机制</p></li></ol> <p><strong>算法</strong></p> <ol><li>前缀和
<ul><li>[x] <a href="https://leetcode.cn/problems/subarray-sum-equals-k/" target="_blank" rel="noopener noreferrer">560.和为k的子数组<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li> <li>滑动窗口的框架及注意事项</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 框架</span>
<span class="token keyword">function</span> <span class="token function">slideWindow</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">// 1. 初始化左右指针，左闭右开，指向0</span>
	<span class="token comment">// 2. 扩大窗口，直至满足条件 </span>
	right <span class="token operator">++</span>
	<span class="token comment">// 3. 缩小窗口, 找到最小窗口，比较并更新</span>
	<span class="token keyword">while</span><span class="token punctuation">(</span>满足条件<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		left<span class="token operator">++</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>right <span class="token operator">-</span> left <span class="token operator">&lt;</span> min<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			min <span class="token operator">=</span> right <span class="token operator">-</span> left
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token comment">// reutrn：当right = arr.length-1，且left缩到最小的时候，返回最小窗口</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_2022-08-22-2022-08-26"><a href="#_2022-08-22-2022-08-26" class="header-anchor">#</a> 2022.08.22 - 2022.08.26</h3> <p><strong>知识点</strong></p> <ul><li><p>Vue3 响应式原理</p> <ul><li><p>核心API：<code>Effect</code></p> <p>简单来说我们所有模版（组件）最终都会被 effect 包裹 ，当数据发生变化时 Effect 会重新执行，所以 vuejs 中的响应式原理可以说是基于 effect 来实现的 。</p> <p>当然这里你仅仅需要了解，最终组件是会编译成为一个个 effect ，当响应式数据改变时会触发 effect 函数重新执行从而更新渲染页面即可。</p></li></ul></li></ul> <p><strong>算法</strong></p> <p><strong>项目</strong></p> <ul><li><p><a href="https://github.com/WillianLiusHao/vite-plugin-generate-routes" target="_blank" rel="noopener noreferrer">vite-plugin-generate-routes<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li> <li><p><a href="https://github.com/WillianLiusHao/mini-webpack" target="_blank" rel="noopener noreferrer">mini-webpack<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li></ul> <h3 id="_2022-08-29-2022-09-02"><a href="#_2022-08-29-2022-09-02" class="header-anchor">#</a> 2022.08.29 - 2022.09.02</h3> <p><strong>知识点</strong></p> <ol><li><p>webpack中配置loader的三种方式</p> <ul><li>绝对路径：直接用path.resolve写loader的绝对路径</li> <li>resolveLoader.alias：定义单个loader的路径</li> <li>resolveLoader.modules：定义所有loader查找目录（默认是node_modules）</li></ul></li> <li><p><code>pitch loader</code> 的熔断效果</p></li></ol> <p><strong>算法</strong></p> <p><strong>项目</strong></p> <ol><li>vite 源码学习</li></ol> <ul><li>[x] vite hmr 原理</li> <li>[x] vite 启动原理</li> <li>[x] vite 预构建原理？？？(好复杂)</li></ul> <p>依赖预构建</p> <ul><li>why？
<ul><li>兼容：开发阶段中，vite会把所有的模块视为 ES 模块，所以需要先将CommonJS 和 UMD 发布的包转成 ESM</li> <li>性能： Vite 将有许多内部模块的 ESM 依赖关系转换为单个模块，以提高后续页面加载性能。</li></ul></li> <li>when？
<ul><li>首次会进行依赖预构建，构建的依赖会存到 <code>node_modules/.vite</code> 中</li> <li>当依赖发生变化时，如
<ul><li>package.json 的 dependencies 列表</li> <li>各类包管理器的 lockfile，package-lock.json / yarn.lock</li> <li>vite.config.js 配置过的</li></ul></li></ul></li> <li>缓存
<ul><li>构建后的依赖以 HTTP 头 <code>max-age=31536000,immutable</code> 强缓存</li></ul></li></ul> <h3 id="_2022-09-26-2022-09-30"><a href="#_2022-09-26-2022-09-30" class="header-anchor">#</a> 2022.09.26 - 2022.09.30</h3> <p><strong>知识点</strong></p> <p><strong>算法</strong></p> <p><strong>项目</strong></p> <ul><li><p>monitor-demo</p> <ul><li>FP / FCP / LCP / CLS 的含义及获取方法</li></ul></li> <li><p>发布一个虚拟列表组件</p></li></ul> <h3 id="_2022-10-31-2022-11-04"><a href="#_2022-10-31-2022-11-04" class="header-anchor">#</a> 2022.10.31 - 2022.11.04</h3> <p><strong>知识点</strong></p> <ul><li><p>Promise</p> <ul><li><p>all 和 allsettled 区别</p> <p>all 只要一个出错了就返回错误的状态，而allsettled 会将所有的状态（成功和失败）都返回</p></li></ul></li></ul> <p><strong>算法</strong></p> <p><strong>项目</strong></p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/WillianLiusHao/daily/inter-records.html" class="prev">
        inter-records.md
      </a></span> <span class="next"><a href="/WillianLiusHao/daily/ts-question.html">
        ts-question.md
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/WillianLiusHao/assets/js/app.ae16b7fb.js" defer></script><script src="/WillianLiusHao/assets/js/2.8b11eef9.js" defer></script><script src="/WillianLiusHao/assets/js/9.2c288a11.js" defer></script>
  </body>
</html>
