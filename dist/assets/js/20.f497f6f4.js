(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{201:function(t,s,v){"use strict";v.r(s);var a=v(6),_=Object(a.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"性能优化"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#性能优化"}},[t._v("#")]),t._v(" 性能优化")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://web.dev/fast/",alt:"页面加载优化"}}),t._v("\n页面更新优化")]),t._v(" "),s("ol",[s("li",[t._v("常见网站性能指标")])]),t._v(" "),s("ul",[s("li",[t._v("FP")]),t._v(" "),s("li",[t._v("FCP")]),t._v(" "),s("li",[t._v("LCP(Largest Contentful Paint)：显示最大内容元素所需时间 (衡量网站初次载入速度)")]),t._v(" "),s("li",[t._v("CLS(Cumulative Layout Shift)：累计版面配置移转 (衡量网页元件视觉稳定性)")]),t._v(" "),s("li",[t._v("FID(first Input Delay)：首次输入延迟时间 (衡量网站互动顺畅程度)")])]),t._v(" "),s("blockquote",[s("p",[t._v("FCP 首屏时间如何计算呢？")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("performance"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getEntriesByName")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'first-contentful-paint'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("startTime\n")])])]),s("h3",{attrs:{id:"确认优化方向"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#确认优化方向"}},[t._v("#")]),t._v(" 确认优化方向")]),t._v(" "),s("ul",[s("li",[t._v("资源优化\n"),s("ul",[s("li",[t._v("使用 Brotli 进行纯文本压缩（Brotli是一种最初由 Google 开发的压缩算法，提供优于 gzip 的压缩）")]),t._v(" "),s("li",[t._v("图片")])])]),t._v(" "),s("li",[t._v("构建优化")]),t._v(" "),s("li",[t._v("传输优化")]),t._v(" "),s("li",[t._v("网络优化")])]),t._v(" "),s("h3",{attrs:{id:"性能监控"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#性能监控"}},[t._v("#")]),t._v(" 性能监控")]),t._v(" "),s("ul",[s("li",[t._v("建立监控体系")]),t._v(" "),s("li",[t._v("确定采集指标")]),t._v(" "),s("li",[t._v("分析页面")])]),t._v(" "),s("h3",{attrs:{id:"一、首屏加载优化"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一、首屏加载优化"}},[t._v("#")]),t._v(" 一、首屏加载优化")]),t._v(" "),s("h4",{attrs:{id:"浏览器渲染进程及工作流程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#浏览器渲染进程及工作流程"}},[t._v("#")]),t._v(" 浏览器渲染进程及工作流程")]),t._v(" "),s("p",[t._v("进程及主要职责")]),t._v(" "),s("ol",[s("li",[t._v("Browser Process 浏览器主进程\n"),s("ul",[s("li",[t._v("负责地址栏，书签栏，刷新前进后退操作等界面交互，用户交互")])])]),t._v(" "),s("li",[t._v("Plugin Process 插件进程\n"),s("ul",[s("li",[t._v("每种类型的插件对应一个进程,仅当使用该插件时才创建。")])])]),t._v(" "),s("li",[t._v("GPU Process\n"),s("ul",[s("li",[t._v("最多只有一个,用于 3D 绘制等")])])]),t._v(" "),s("li",[t._v("Render Process 渲染进程\n"),s("ul",[s("li",[t._v("称为浏览器渲染进程或浏览器内核,内部是多线程的。主要负责页面渲染,脚本执行,事件处理等。")])])])]),t._v(" "),s("p",[t._v("渲染进程（浏览器内核）")]),t._v(" "),s("ol",[s("li",[t._v("GUI 渲染线程")]),t._v(" "),s("li",[t._v("JS 引擎线程")]),t._v(" "),s("li",[t._v("时间触发线程")]),t._v(" "),s("li",[t._v("定时触发器线程")]),t._v(" "),s("li",[t._v("异步 http 请求线程")])]),t._v(" "),s("h4",{attrs:{id:"关键渲染路径-crp"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#关键渲染路径-crp"}},[t._v("#")]),t._v(" 关键渲染路径 CRP")]),t._v(" "),s("blockquote",[s("p",[t._v("关键渲染路径是浏览器将 HTML，CSS 和 JavaScript 转换为屏幕上的像素所经历的步骤序列。\n优化关键渲染路径可提高渲染性能。")])]),t._v(" "),s("p",[t._v("关键渲染路径包含了")]),t._v(" "),s("ul",[s("li",[t._v("文档对象模型 (HTML -> DOM)")]),t._v(" "),s("li",[t._v("CSS 对象模型 (CSS -> CSSOM)")]),t._v(" "),s("li",[t._v("渲染树 (DOM + cssom -> Render Tree)")]),t._v(" "),s("li",[t._v("布局 (Layout)")]),t._v(" "),s("li",[t._v("绘制 (Paint)")])]),t._v(" "),s("p",[t._v("优化")]),t._v(" "),s("ol",[s("li",[t._v("关键资源数： 通过异步重要资源的下载来减小请求数量")]),t._v(" "),s("li",[t._v("关键字节数：优化必须的请求数量和每个请求的文件体积")]),t._v(" "),s("li",[t._v("关键路径长度：通过区分关键资源的优先级来优化被加载关键资源的顺序，来缩短关键路径长度")])]),t._v(" "),s("h5",{attrs:{id:"dom"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#dom"}},[t._v("#")]),t._v(" DOM")]),t._v(" "),s("ul",[s("li",[t._v("特点：增量")])]),t._v(" "),s("h5",{attrs:{id:"cssom"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cssom"}},[t._v("#")]),t._v(" CSSOM")]),t._v(" "),s("ul",[s("li",[t._v("特点：渲染阻塞(因为css规则可以覆盖，所以直到DCCOM完成才绘制页面)")])])])}),[],!1,null,null,null);s.default=_.exports}}]);