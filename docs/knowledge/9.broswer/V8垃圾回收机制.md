## V8垃圾回收机制(GC)

#### 相关问题

**1. 什么是垃圾回收机制？**
  
  `垃圾`：程序工作过程中，不用或者用过了，之后不会再用的内存空间
  `垃圾回收`：浏览器内部引擎自动执行，处理垃圾并回收内存空间的过程

  

**2. 为什么要进行垃圾回收？**

**3. 垃圾是怎么产生的？**

**4. 垃圾回收是怎么进行的？** 

  - **标记清除算法** (JS引擎最常用)

    ![](./assets/%E6%A0%87%E8%AE%B0%E6%B8%85%E9%99%A4.png)

    `优`：实现简单

    `缺`：

      - 内存碎片化：清除后，空间内存变得不连续
      - 分配速度慢：内存不连续，直接导致每次分配新内存时，需要对碎片内存遍历以寻找合适的内存空间

    `优化`

      - 标记整理：在标记结束后，会将所有活着的对象向内存一端移动，再进行清理
          ![](./assets/%E6%A0%87%E8%AE%B0%E6%95%B4%E7%90%86.png)

    

- `引用计数算法`

**5. V8做了哪些优化？**

  - 分代式垃圾回收

    `新生代`
    `老生代`